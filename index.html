<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UniVidX: Omni-directional Video Generation | SIGGRAPH 2026</title>
    <meta name="description" content="A unified framework enabling cross-modal any-to-any video generation within shared multimodal spaces.">
    
    <style>
        /* --- VARIABLES & THEME --- */
        :root {
            --bg-body: #fdfdfd;
            --bg-surface: #ffffff;
            --bg-surface-alt: #f7f7f9;
            --text-main: #1a1a1a;
            --text-muted: #666666;
            --primary: #2c3e50; /* Deep Slate */
            --accent: #3b82f6; /* Academic Blue */
            --accent-soft: #eef4ff;
            --border: rgba(0,0,0,0.08);
            --shadow: 0 4px 20px rgba(0,0,0,0.04);
            --shadow-hover: 0 8px 30px rgba(0,0,0,0.08);
            --font-serif: "New York", "Times New Roman", Times, serif;
            --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            --radius-sm: 6px;
            --radius-md: 12px;
            --radius-lg: 20px;
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --nav-height: 60px;
        }

        [data-theme="dark"] {
            --bg-body: #111111;
            --bg-surface: #1a1a1a;
            --bg-surface-alt: #222222;
            --text-main: #eeeeee;
            --text-muted: #aaaaaa;
            --primary: #e0e0e0;
            --accent: #60a5fa;
            --accent-soft: #1e293b;
            --border: rgba(255,255,255,0.1);
            --shadow: 0 4px 20px rgba(0,0,0,0.3);
            --shadow-hover: 0 8px 30px rgba(0,0,0,0.5);
        }

        /* --- GLOBAL RESET --- */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            background-color: var(--bg-body);
            color: var(--text-main);
            font-family: var(--font-sans);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
        }

        a { color: var(--accent); text-decoration: none; transition: var(--transition); }
        a:hover { opacity: 0.8; }
        
        /* --- UTILITIES --- */
        .container { max-width: 1100px; margin: 0 auto; padding: 0 24px; }
        .section { padding: 80px 0; border-bottom: 1px solid var(--border); }
        .section:last-child { border-bottom: none; }
        .fade-in-section { opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; will-change: opacity, visibility; }
        .fade-in-section.is-visible { opacity: 1; transform: none; }
        
        h1, h2, h3 { font-family: var(--font-serif); color: var(--text-main); font-weight: 600; letter-spacing: -0.02em; }
        h1 { font-size: 3rem; line-height: 1.1; margin-bottom: 16px; }
        h2 { font-size: 2rem; margin-bottom: 24px; text-align: center; }
        h3 { font-size: 1.25rem; margin-bottom: 12px; }
        p { margin-bottom: 16px; color: var(--text-muted); font-size: 1.05rem; }

        /* --- NAVIGATION --- */
        .navbar {
            position: sticky; top: 0; z-index: 100;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border);
            height: var(--nav-height);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 24px;
        }
        [data-theme="dark"] .navbar { background: rgba(17, 17, 17, 0.8); }
        .nav-links { display: flex; gap: 20px; font-size: 0.9rem; font-weight: 500; }
        .nav-links a { color: var(--text-main); opacity: 0.7; }
        .nav-links a:hover { opacity: 1; color: var(--accent); }
        .theme-toggle { cursor: pointer; background: none; border: none; font-size: 1.2rem; color: var(--text-main); }
        .mobile-menu-btn { display: none; background: none; border: none; font-size: 1.5rem; color: var(--text-main); }

        /* --- HERO --- */
        .hero { padding: 120px 0 80px; text-align: center; }
        .venue { 
            display: inline-block; font-weight: 600; color: var(--accent); 
            background: var(--accent-soft); padding: 4px 12px; border-radius: 20px; 
            font-size: 0.9rem; margin-bottom: 24px; letter-spacing: 0.5px;
        }
        .tagline { font-size: 1.3rem; max-width: 700px; margin: 0 auto 32px; color: var(--text-muted); }
        .pills { display: flex; justify-content: center; gap: 12px; flex-wrap: wrap; margin-bottom: 40px; }
        .pill { 
            font-size: 0.85rem; padding: 6px 14px; border-radius: 20px; 
            border: 1px solid var(--border); background: var(--bg-surface-alt); color: var(--text-muted);
        }
        .btn-group { display: flex; justify-content: center; gap: 16px; flex-wrap: wrap; }
        .btn {
            display: inline-flex; align-items: center; justify-content: center;
            padding: 12px 24px; border-radius: var(--radius-md); font-weight: 600;
            transition: var(--transition); border: 1px solid transparent; cursor: pointer;
        }
        .btn-primary { background: var(--text-main); color: var(--bg-body); }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: var(--shadow-hover); opacity: 0.95; }
        .btn-outline { background: transparent; border-color: var(--border); color: var(--text-main); }
        .btn-outline:hover { background: var(--bg-surface-alt); border-color: var(--text-main); }

        /* --- AUTHORS & AFFILIATIONS --- */
        .authors {
            margin-bottom: 8px;
            font-size: 1.25rem;
            font-weight: 500;
        }
        .author-block {
            display: inline-block;
            margin: 0 8px;
        }
        .author-block a {
            color: var(--text-main); 
            text-decoration: none;
        }
        .author-block a:hover {
            color: var(--accent);
            text-decoration: underline;
        }
        
        .affiliations {
            margin-bottom: 24px;
            font-size: 1rem;
            color: var(--text-muted);
        }
        .affil-block {
            display: inline-block;
            margin: 0 10px;
        }
        sup {
            vertical-align: super;
            font-size: smaller;
        }

        /* --- TEASER --- */
        .teaser-container { background: #000; border-radius: var(--radius-lg); overflow: hidden; position: relative; aspect-ratio: 16/9; margin-bottom: 20px; box-shadow: var(--shadow); }
        .teaser-placeholder {
            width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center;
            background: linear-gradient(135deg, #2c3e50 0%, #000000 100%); color: white;
            text-align: center; padding: 20px;
        }
        .play-overlay {
            width: 80px; height: 80px; background: rgba(255,255,255,0.2); border-radius: 50%;
            display: flex; align-items: center; justify-content: center; backdrop-filter: blur(4px);
            border: 1px solid rgba(255,255,255,0.3); transition: var(--transition); cursor: pointer;
        }
        .play-overlay:hover { background: rgba(255,255,255,0.3); transform: scale(1.1); }
        .play-icon { width: 0; height: 0; border-top: 12px solid transparent; border-bottom: 12px solid transparent; border-left: 20px solid white; margin-left: 4px; }
        
        /* --- ABSTRACT & METHOD --- */
        .abstract-box { max-width: 800px; margin: 0 auto; text-align: justify; padding: 30px; background: var(--bg-surface-alt); border-radius: var(--radius-md); border: 1px solid var(--border); }
        
        .method-diagram {
            display: flex; flex-wrap: wrap; justify-content: center; align-items: center; gap: 20px; margin: 40px 0; padding: 20px;
            background: var(--bg-surface-alt); border-radius: var(--radius-md); border: 1px solid var(--border);
        }
        .diagram-block {
            background: var(--bg-surface); border: 1px solid var(--border); padding: 15px 25px; border-radius: 8px;
            font-weight: 600; font-size: 0.9rem; box-shadow: var(--shadow); text-align: center; min-width: 120px;
        }
        .diagram-arrow { color: var(--text-muted); font-size: 1.5rem; }
        
        .technique-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 24px; margin-top: 40px; }
        .tech-card { padding: 24px; border: 1px solid var(--border); border-radius: var(--radius-md); background: var(--bg-surface); transition: var(--transition); }
        .tech-card:hover { transform: translateY(-4px); box-shadow: var(--shadow); }
        .tech-title { font-weight: 700; color: var(--accent); margin-bottom: 12px; display: block; }
        .tech-list { list-style: none; padding-left: 0; }
        .tech-list li { position: relative; padding-left: 18px; margin-bottom: 8px; font-size: 0.95rem; color: var(--text-muted); }
        .tech-list li::before { content: "•"; color: var(--accent); position: absolute; left: 0; top: 0; }

        /* --- RESULTS GALLERY (MODIFIED SECTION) --- */

        .gallery-controls { display: flex; flex-direction: column; gap: 16px; margin-bottom: 30px; }
        .model-tabs { display: flex; justify-content: center; gap: 10px; padding: 6px; background: var(--bg-surface-alt); border-radius: var(--radius-md); width: fit-content; margin: 0 auto; }
        .model-tab {
            padding: 8px 24px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 0.95rem;
            transition: var(--transition); color: var(--text-muted);
        }
        .model-tab.active { background: var(--bg-surface); color: var(--accent); box-shadow: 0 2px 8px rgba(0,0,0,0.05); }

        .filter-bar { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 16px; }
        .filter-pills { display: flex; gap: 8px; overflow-x: auto; padding-bottom: 4px; -webkit-overflow-scrolling: touch; }
        .filter-pill {
            padding: 6px 14px; border: 1px solid var(--border); border-radius: 20px; font-size: 0.85rem;
            cursor: pointer; white-space: nowrap; transition: var(--transition);
        }
        .filter-pill.active { background: var(--accent); color: white; border-color: var(--accent); }

        .gallery-search {
            padding: 8px 16px; border-radius: 20px; border: 1px solid var(--border); background: var(--bg-surface);
            font-family: var(--font-sans); width: 220px;
        }

        /* --- NEW GALLERY LAYOUT --- */
        
        .gallery-grid {
            display: flex;
            flex-direction: column; /* 一行一个任务 */
            gap: 20px;
        }


        .task-row {
            background: var(--bg-surface);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            padding: 20px;
            transition: var(--transition);
        }
        .task-row:hover {
            box-shadow: var(--shadow-hover);
            border-color: var(--accent);
        }

        .task-row-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
            flex-wrap: wrap;
            gap: 10px;
        }
        .task-info { display: flex; flex-direction: column; gap: 4px; }
        .task-shorthand {
            font-family: monospace; font-weight: 700; color: var(--accent);
            background: var(--accent-soft); padding: 2px 8px; border-radius: 6px; font-size: 0.9rem;
            width: fit-content; margin-bottom: 4px;
        }
        .task-desc { font-weight: 600; font-size: 1.05rem; color: var(--text-main); }
        .task-meta { font-size: 0.85rem; color: var(--text-muted); }


        .video-strip {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* 核心修改：4列 */
            gap: 16px;
            width: 100%;
        }

 
        .video-strip-5 {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 16px;
            width: 100%;
        }

        .video-slot {
            aspect-ratio: 16/9;
            background: #000;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid rgba(0,0,0,0.1);
            position: relative;
        }

        .task-video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .video-empty {
            width: 100%; height: 100%;
            display: flex; align-items: center; justify-content: center;
            background: var(--bg-surface-alt); color: var(--text-muted);
            font-size: 0.8rem; border: 1px dashed var(--border);
        }

        .video-label {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.7);
            color: white;
            text-align: center;
            padding: 6px 8px;
            font-size: 0.8rem;
            font-weight: 500;
            pointer-events: none; /* 让点击穿透文字直达视频控件 */
        }

           
        @media (max-width: 900px) {
            .video-strip {
                display: flex;
                overflow-x: auto;
                padding-bottom: 10px;
                scroll-snap-type: x mandatory;
            }
            .video-slot {
                min-width: 240px;
                scroll-snap-align: start;
            }
        }
        
        /* --- RESULTS TABLES --- */
        .table-container { overflow-x: auto; margin-bottom: 30px; border-radius: var(--radius-sm); border: 1px solid var(--border); }
        table { width: 100%; border-collapse: collapse; font-size: 0.9rem; text-align: left; }
        th, td { padding: 12px 16px; border-bottom: 1px solid var(--border); }
        th { background: var(--bg-surface-alt); font-weight: 600; font-family: var(--font-serif); }
        tr:last-child td { border-bottom: none; }
        tr:nth-child(even) { background: rgba(0,0,0,0.02); }
        .best { font-weight: bold; color: var(--text-main); }
        .second { text-decoration: underline; }

        /* --- ABLATIONS & DATASET --- */
        .ablation-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 30px; }
        .att-map-placeholder { 
            height: 120px; background-image: repeating-linear-gradient(45deg, var(--bg-surface-alt) 25%, transparent 25%, transparent 75%, var(--bg-surface-alt) 75%, var(--bg-surface-alt)), repeating-linear-gradient(45deg, var(--bg-surface-alt) 25%, var(--bg-surface) 25%, var(--bg-surface) 75%, var(--bg-surface-alt) 75%, var(--bg-surface-alt));
            background-position: 0 0, 10px 10px; background-size: 20px 20px; border-radius: var(--radius-sm); border: 1px solid var(--border); margin-top: 12px;
        }

        /* --- CITATION --- */
        .bibtex-box { 
            background: var(--bg-surface-alt); padding: 20px; border-radius: var(--radius-md); 
            font-family: monospace; font-size: 0.85rem; overflow-x: auto; position: relative; border: 1px solid var(--border);
        }
        .copy-btn { 
            position: absolute; top: 10px; right: 10px; padding: 4px 10px; font-size: 0.8rem;
            background: var(--bg-surface); border: 1px solid var(--border); border-radius: 4px; cursor: pointer;
        }

        /* --- FAQ --- */
        .faq-item { border-bottom: 1px solid var(--border); padding: 16px 0; }
        .faq-q { font-weight: 600; cursor: pointer; display: flex; justify-content: space-between; }
        .faq-a { max-height: 0; overflow: hidden; transition: max-height 0.3s ease; color: var(--text-muted); font-size: 0.95rem; }
        .faq-item.open .faq-a { max-height: 200px; margin-top: 8px; }

        /* --- FOOTER --- */
        footer { background: var(--bg-surface-alt); padding: 60px 0; text-align: center; font-size: 0.9rem; color: var(--text-muted); border-top: 1px solid var(--border); }
        
        /* --- MEDIA QUERIES --- */
        @media (max-width: 768px) {
            h1 { font-size: 2.2rem; }
            .nav-links { display: none; }
            .mobile-menu-btn { display: block; }
            .method-diagram { flex-direction: column; }
            .diagram-arrow { transform: rotate(90deg); }
            .ablation-grid { grid-template-columns: 1fr; }
            .btn-group { flex-direction: column; width: 100%; }
            .btn { width: 100%; }
        }
    </style>
</head>
<body data-theme="light">

    <nav class="navbar">
        <div style="font-weight: 700; font-size: 1.2rem; font-family: var(--font-serif);">UniVidX</div>
        <div class="nav-links">
            <a href="#hero">Overview</a>
            <a href="#method">Method</a>
            <a href="#gallery">Gallery</a>
            <a href="#baseline-comparison">Comparison</a>
            <a href="#citation">Citation</a>
        </div>
        <div style="display: flex; gap: 12px;">
            <button class="theme-toggle" id="themeBtn" aria-label="Toggle Theme">☾</button>
            <button class="mobile-menu-btn" aria-label="Menu">☰</button>
        </div>
    </nav>


    <header class="section hero" id="hero">
        <div class="container fade-in-section">
            <h1 class="title">UniVidX:  A Unified Multimodal Framework for Versatile Video Generation via Diffusion Priors</h1>

            <div class="authors">
                <span class="author-block"><a href="https://github.com/houyuanchen111">Houyuan Chen</a><sup>1</sup></span>
                <span class="author-block"><a href="https://github.com/Luh1124">Hong Li</a><sup>2</sup></span>
                <span class="author-block"><a href="https://refkxh.github.io/">Xianghao Kong</a><sup>1</sup></span>
                <span class="author-block"><a href="https://github.com/trzhu11">Tianrui Zhu</a><sup>3</sup></span>
                <span class="author-block"><a href="https://guoyww.github.io/">Yuwei Guo</a><sup>4</sup></span>
                <span class="author-block"><a href="https://daniellli.github.io/">Shaocong Xu</a><sup>5</sup></span>
                <span class="author-block"><a href="https://hugoycj.github.io/">Chongjie Ye</a><sup>6</sup></span>
                <span class="author-block"><a href="https://lllyasviel.github.io/lvmin_zhang/">Lvmin Zhang</a><sup>7</sup></span>
                <span class="author-block"><a href="https://sites.google.com/view/fromandto">Hao Zhao</a><sup>8</sup></span>
                <span class="author-block"><a href="https://anyirao.com/">Anyi Rao</a><sup>1,*</sup></span>
            </div>

            <div class="affiliations">
                <span class="affil-block"><sup>1</sup>MMLab, HKUST</span>
                <span class="affil-block"><sup>2</sup>BUAA</span>
                <span class="affil-block"><sup>3</sup>NJU</span>
                <span class="affil-block"><sup>4</sup>CUHK</span>
                <span class="affil-block"><sup>5</sup>BAAI</span>
                <span class="affil-block"><sup>6</sup>FNii, CUHKSZ</span>
                <span class="affil-block"><sup>7</sup>Stanford</span>
                <span class="affil-block"><sup>8</sup>AIR,THU</span>
            </div>
            
            <div class="btn-group">
                <a href="" target="_blank" class="btn btn-primary">
                    Paper (PDF)
                </a>

                <a href="https://github.com/houyuanchen111/UniVidX" target="_blank" class="btn btn-outline">
                    Code
                </a>

                <a href="" target="_blank" class="btn btn-outline">
                    HuggingFace
                </a>

                <a href="#citation" class="btn btn-outline">
                    BibTeX
                </a>
            </div>
        </div>
    </header>

    <section class="section" id="teaser">
        <div class="container fade-in-section">
            <div class="teaser-container">
                <video 
                    width="100%" 
                    height="100%" 
                    controls 
                    preload="metadata" 
                    poster="assets/name.png" 
                    style="object-fit: cover; display: block; border-radius: inherit;">
                    <source src="assets/video_compressed.mp4" type="video/mp4">
                </video>
            </div>
            <h3 style="text-align: center; margin-top: 15px; opacity: 0.8; font-weight: 400;"></h3>
        </div>
    </section>


    <section class="section" id="abstract">
        <div class="container fade-in-section">
            <h2>Abstract</h2>
            <div class="abstract-box">
                <p style="margin-bottom: 0;">
                Recent progress has shown that video diffusion models (VDMs) can be repurposed to solve various multimodal graphics tasks.
                However, existing approaches typically train separate models for each specific problem setting. 
                This practice not only ignores the joint correlations across modalities, but also locks models into fixed input-output mappings, severely limiting their flexibility.
                In this paper, we present UniVidX, a unified multimodal framework designed to enable versatile video generation. 
                Our goal is to (i) master diverse tasks by formulating them as conditional generation problems within multimodal space, (ii) adapt to modality-specific distributions without compromising the backbone’s native priors, and (iii) ensure cross-modal consistency during synthesis.
                Concretely, we propose three key designs: 1) Stochastic Condition Masking (SCM): by randomly partitioning modalities into clean conditions and noisy targets during training, we enable the model to learn omni-directional conditional generation rather than fixed mappings. 2) Decoupled Gated LoRA (DGL): we attach per-modality LoRAs and activate them when a modality serves as a generation target, thereby preserving the VDM's strong priors. 3) Cross-Modal Self-Attention (CMSA): we explicitly share keys/values across modalities while maintaining modality-specific queries, facilitating information exchange and inter-modal alignment.
                We validate our framework by instantiating it in two domains: 1) UniVid-Intrinsic for RGB videos and their intrinsic maps (albedo, irradiance, normal), and 2) UniVid-Alpha for blended RGB videos and their constituent RGBA layers. 
                Experimental results demonstrate that both models achieve performance competitive with state-of-the-art methods. 
                Notably, they exhibit robust generalization capabilities in in-the-wild scenarios, even when trained on limited datasets of fewer than 1k videos.
                </p>
            </div>
        </div>
    </section>

    <section class="section" id="method">
        <div class="container fade-in-section">
            <h2>Method</h2>
            
            <div class="method-diagram" style="justify-content: center;">
                <img src="assets/method.png" alt="Method Diagram" style="max-width:100%; height:auto; border-radius:12px; border:1px solid var(--border); box-shadow: var(--shadow);" />
            </div>

            <div class="technique-grid">
                <div class="tech-card">
                    <span class="tech-title">Stochastic Condition Masking (SCM)</span>
                    <ul class="tech-list">
                        <li>Randomly masks modalities during training.</li>
                        <li>Enables omni-directional video generation.</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <span class="tech-title">Decoupled Gated LoRA (DGL)</span>
                    <ul class="tech-list">
                        <li>Decoupled, Per-modality LoRA adapters.</li>
                        <li>Gate ON when modality is a Target, OFF when modality is a Condition.</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <span class="tech-title">Cross-Modal Self-Attention (CMSA)</span>
                    <ul class="tech-list">
                        <li>Shared Keys/Values and modality-specific Queries.</li>
                        <li>Accelerates cross-modal alignment.</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section class="section" id="gallery">
        <div class="container fade-in-section">
            <h2>Results Gallery</h2>
            <p style="text-align: center; margin-bottom: 30px;">Across two model instantiations (UniVid-Intrinsic and UniVid-Alpha), each supporting 15 distinct tasks.</p>

            <div class="gallery-controls">
                <div class="model-tabs">
                    <div class="model-tab active" onclick="switchModel('intrinsic')">UniVid-Intrinsic</div>
                    <div class="model-tab" onclick="switchModel('alpha')">UniVid-Alpha</div>
                </div>

                <div class="filter-bar">
                    <div class="filter-pills" id="categoryFilters">
                        <div class="filter-pill active" data-category="All" onclick="filterGallery('All')">All Tasks</div>
                        <div class="filter-pill" data-category="TextToX" onclick="filterGallery('TextToX')">Text → X</div>
                        <div class="filter-pill" data-category="XToX" onclick="filterGallery('XToX')">X → X</div>
                        <div class="filter-pill" data-category="TextAndXToX" onclick="filterGallery('TextAndXToX')">Text & X → X</div>
                    </div>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <input type="text" class="gallery-search" placeholder="Search (e.g. 'R2A')..." onkeyup="searchGallery(this.value)">
                    </div>
                </div>
            </div>

            <div class="gallery-grid" id="galleryGrid">
                </div>
        </div>
    </section>

    <section class="section" id="baseline-comparison">
        <div class="container fade-in-section">
            <h2>Baseline Comparison</h2>
            <h3 style="text-align: center; font-size: 1.1rem; color: var(--text-muted); margin-bottom: 30px;">UniVid-Intrinsic —— Normal Estimation</h3>
            
            <div class="comparison-row" style="margin-bottom: 24px;">
                <div class="video-strip">
                    <div class="video-slot">
                        <video src="assets/normal_estimation/input.mp4" class="task-video" controls preload="metadata" playsinline loop></video>
                        <div class="video-label">Input RGB</div>
                    </div>
                    <div class="video-slot">
                        <video src="assets/normal_estimation/rgbx.mp4" class="task-video" controls preload="metadata" playsinline loop></video>
                        <div class="video-label">RGB↔X </div>
                    </div>
                    <div class="video-slot">
                        <video src="assets/normal_estimation/stablenormal.mp4" class="task-video" controls preload="metadata" playsinline loop></video>
                        <div class="video-label">Stable Normal</div>
                    </div>
                    <div class="video-slot">
                        <video src="assets/normal_estimation/lotus.mp4" class="task-video" controls preload="metadata" playsinline loop></video>
                        <div class="video-label">Lotus</div>
                    </div>
                </div>
            </div>

            <div class="comparison-row">
                <div class="video-strip">
                    <div class="video-slot">
                        <video src="assets/normal_estimation/dr.mp4" class="task-video" controls preload="metadata" playsinline loop></video>
                        <div class="video-label">Diffusion Renderer</div>
                    </div>
                    <div class="video-slot">
                        <video src="assets/normal_estimation/normal_crafter.mp4" class="task-video" controls preload="metadata" playsinline loop></video>
                        <div class="video-label">NormalCrafter</div>
                    </div>
                    <div class="video-slot">
                        <video src="assets/normal_estimation/ouroboros.mp4" class="task-video" controls preload="metadata" playsinline loop></video>
                        <div class="video-label">Ouroboros</div>
                    </div>
                    <div class="video-slot">
                        <video src="assets/normal_estimation/ours.mp4" class="task-video" controls preload="metadata" playsinline loop></video>
                        <div class="video-label">Ours</div>
                    </div>
                </div>
            </div>

            <h3 style="text-align: center; font-size: 1.1rem; color: var(--text-muted); margin: 40px 0 30px;">UniVid-Alpha —— Video Matting</h3>
            <div class="comparison-row">
                <div class="video-strip-5">
                    <div class="video-slot">
                        <video src="assets/video_matting/input.mp4" class="task-video" controls preload="metadata" playsinline loop></video>
                        <div class="video-label">Input BL</div>
                    </div>
                    <div class="video-slot">
                        <video src="assets/video_matting/rvm.mp4" class="task-video" controls preload="metadata" playsinline loop></video>
                        <div class="video-label">RVM</div>
                    </div>
                    <div class="video-slot">
                        <video src="assets/video_matting/modnet.mp4" class="task-video" controls preload="metadata" playsinline loop></video>
                        <div class="video-label">MODNet</div>
                    </div>
                    <div class="video-slot">
                        <video src="assets/video_matting/vmformer.mp4" class="task-video" controls preload="metadata" playsinline loop></video>
                        <div class="video-label">VMFormer</div>
                    </div>
                    <div class="video-slot">
                        <video src="assets/video_matting/ours.mp4" class="task-video" controls preload="metadata" playsinline loop></video>
                        <div class="video-label">Ours</div>
                    </div>
                </div>
            </div>
            
        </div>
    </section>





    <section class="section" id="citation">
        <div class="container fade-in-section">
            <h2>Citation</h2>
            <div class="bibtex-box">
                <button class="copy-btn" onclick="copyBibtex()">Copy</button>
<pre id="bibtexText">@inproceedings{
}</pre>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2026 UniVidX Project. All rights reserved.</p>
        </div>
    </footer>

<script>
        // --- DATA MODELS ---
        const INTRINSIC_TASKS = [
            { 
                id: 'i1', 
                short: 't2RAIN', 
                cat: 'TextToX', 
                desc: 'Text-to-Intrinsic', 
                promptReq: true, 
                input: 'Text', 
                output: 'RGB+Albedo+Irradiance+Normal',
                prompt: "A small otter, wearing blue overalls and yellow safety helmet, is standing on a small ladder, holding a small hammer with its front paws, repairing a small wooden wall with a focused and serious expression. It is located in a workspace filled with tools, with warm lights illuminating the workbench and various small tools neatly hanging on the wall.",
                videoList: [
                    "assets/t2RAIN/rgb.mp4",
                    "assets/t2RAIN/albedo.mp4", 
                    "assets/t2RAIN/irradiance.mp4",
                    "assets/t2RAIN/normal.mp4"
                ] 
            },
            { 
                id: 'i2', 
                short: 'R2AIN', 
                cat: 'XToX', 
                desc: 'Inverse Rendering', 
                promptReq: false, 
                input: 'RGB', 
                output: 'Albedo+Irradiance+Normal',
                prompt: "", 
                videoList: [
                    "assets/R2AIN/rgb.mp4",
                    "assets/R2AIN/albedo.mp4", 
                    "assets/R2AIN/irradiance.mp4",
                    "assets/R2AIN/normal.mp4"
                ]
            },
            { 
                id: 'i3', 
                short: 'A2RIN', 
                cat: 'TextAndXToX', 
                desc: 'Albedo → Others', 
                promptReq: true, 
                input: 'Albedo', 
                output: 'RGB+Irradiance+Normal',
                prompt: "The lights are on, and outside the window it‘s cloudy.",
                videoList: [
                    "assets/A2RIN/rgb.mp4", 
                    "assets/A2RIN/albedo.mp4",
                    "assets/A2RIN/irradiance.mp4",
                    "assets/A2RIN/normal.mp4"
                ]
            },
            { 
                id: 'i4', 
                short: 'I2RAN', 
                cat: 'TextAndXToX', 
                desc: 'Irradiance → Others', 
                promptReq: true, 
                input: 'Irradiance', 
                output: 'RGB+Albedo+Normal',
                prompt: "Marble floor, brown leather sofa.",
                videoList: [
                    "assets/I2RAN/rgb.mp4", 
                    "assets/I2RAN/albedo.mp4",
                    "assets/I2RAN/irradiance.mp4",
                    "assets/I2RAN/normal.mp4"
                ]
            },   
            { 
                id: 'i5', 
                short: 'N2RAI', 
                cat: 'TextAndXToX', 
                desc: 'Normal → Others', 
                promptReq: true, 
                input: 'Normal', 
                output: 'RGB+Albedo+Irradiance',
                prompt: "Nordic style, often using natural wood indoors.",
                videoList: [
                    "assets/N2RAI/rgb.mp4", 
                    "assets/N2RAI/albedo.mp4",
                    "assets/N2RAI/irradiance.mp4",
                    "assets/N2RAI/normal.mp4"
                ]
            },
            { 
                id: 'i6', 
                short: 'RA2IN', 
                cat: 'XToX', 
                desc: 'RGB+Albedo → Irradiance+Normal', 
                promptReq: false, 
                input: 'RGB+Albedo', 
                output: 'Irradiance+Normal',
                videoList: [
                    "assets/RA2IN/rgb.mp4", 
                    "assets/RA2IN/albedo.mp4",
                    "assets/RA2IN/irradiance.mp4",
                    "assets/RA2IN/normal.mp4"
                ]

            },
            { 
                id: 'i7', 
                short: 'RI2AN', 
                cat: 'XToX', 
                desc: 'RGB+Irradiance → Albedo+Normal', 
                promptReq: false, 
                input: 'RGB+Irradiance', 
                output: 'Albedo+Normal',
                videoList: [
                    "assets/RI2AN/rgb.mp4", 
                    "assets/RI2AN/albedo.mp4",
                    "assets/RI2AN/irradiance.mp4",
                    "assets/RI2AN/normal.mp4"
                ]

            },
            { 
                id: 'i8', 
                short: 'RN2AI', 
                cat: 'XToX', 
                desc: 'RGB+Normal → Albedo+Irradiance', 
                promptReq: false, 
                input: 'RGB+Normal', 
                output: 'Albedo+Normal',
                videoList: [
                    "assets/RN2AI/rgb.mp4", 
                    "assets/RN2AI/albedo.mp4",
                    "assets/RN2AI/irradiance.mp4",
                    "assets/RN2AI/normal.mp4"
                ]

            },
            { 
                id: 'i9', 
                short: 'AI2RN', 
                cat: 'TextAndXToX', 
                desc: 'Albedo+Irradiance → RGB+Normal', 
                promptReq: true, 
                input: 'Albedo+Irradiance', 
                output: 'RGB+Normal',
                prompt:"A squirrel is drawing, and the floor is a flat.",
                videoList: [
                    "assets/AI2RN/rgb.mp4", 
                    "assets/AI2RN/albedo.mp4",
                    "assets/AI2RN/irradiance.mp4",
                    "assets/AI2RN/normal.mp4"
                ]

            },
            { 
                id: 'i10', 
                short: 'AN2RI', 
                cat: 'TextAndXToX', 
                desc: 'Albedo+Normal → RGB+Irradiance', 
                promptReq: true, 
                input: 'Albedo+Normal', 
                output: 'RGB+Irradiance',
                prompt:"The morning sunshine shines into the room.",
                videoList: [
                    "assets/AN2RI/rgb.mp4", 
                    "assets/AN2RI/albedo.mp4",
                    "assets/AN2RI/irradiance.mp4",
                    "assets/AN2RI/normal.mp4"
                ]

            },
            { 
                id: 'i11', 
                short: 'IN2RA', 
                cat: 'TextAndXToX', 
                desc: 'Irradiance+Normal → RGB+Albedo', 
                promptReq: true, 
                input: 'Irradiance+Normal', 
                output: 'RGB+Albedo',
                prompt:"A basket of oranges is placed on a stainless steel table.",
                videoList: [
                    "assets/IN2RA/rgb.mp4", 
                    "assets/IN2RA/albedo.mp4",
                    "assets/IN2RA/irradiance.mp4",
                    "assets/IN2RA/normal.mp4"
                ]

            },
            { 
                id: 'i12', 
                short: 'AIN2R', 
                cat: 'XToX', 
                desc: 'Forward Rendering', 
                promptReq: false, 
                input: 'Albedo+Irradiance+Normal', 
                output: 'RGB',
                videoList: [
                    "assets/AIN2R/rgb.mp4", 
                    "assets/AIN2R/albedo.mp4",
                    "assets/AIN2R/irradiance.mp4",
                    "assets/AIN2R/normal.mp4"
                ]
            },
            { 
                id: 'i13', 
                short: 'RIN2A', 
                cat: 'XToX', 
                desc: 'RGB+Irradiance+Normal → Albedo', 
                promptReq: false, 
                input: 'RGB+Irradiance+Normal', 
                output: 'Albedo',
                videoList: [
                    "assets/RIN2A/rgb.mp4", 
                    "assets/RIN2A/albedo.mp4",
                    "assets/RIN2A/irradiance.mp4",
                    "assets/RIN2A/normal.mp4"
                ]
            },
            { 
                id: 'i14', 
                short: 'RAN2I', 
                cat: 'XToX', 
                desc: 'RGB+Albedo+Normal → Irradiance', 
                promptReq: false, 
                input: 'RGB+Albedo+Normal', 
                output: 'Irradiance',
                videoList: [
                    "assets/RAN2I/rgb.mp4", 
                    "assets/RAN2I/albedo.mp4",
                    "assets/RAN2I/irradiance.mp4",
                    "assets/RAN2I/normal.mp4"
                ]
            },
            { 
                id: 'i15', 
                short: 'RAI2N', 
                cat: 'XToX', 
                desc: 'RGB+Albedo+Irradiance → Normal', 
                promptReq: false, 
                input: 'RGB+Albedo+Irradiance', 
                output: 'Normal', 
                videoList: [
                    "assets/RAI2N/rgb.mp4", 
                    "assets/RAI2N/albedo.mp4",
                    "assets/RAI2N/irradiance.mp4",
                    "assets/RAI2N/normal.mp4"
                ]
            }
        ];

        const ALPHA_TASKS = [
            { 
                id: 'a1', 
                short: 't2RPFB', 
                cat: 'TextToX', 
                desc: 'Text-to-RGBA', 
                promptReq: true, 
                input: 'Text', 
                output: 'BL+Alpha+FG+BG',
                prompt: "A British bulldog wearing a black leather motorcycle jacket and a studded collar, standing on both legs with his hands in his pockets. The background is a concrete wall covered in colorful graffiti, with strong sunlight, clear shadows, and a street feel.",
                videoList: [
                    "assets/t2RPFB/bl.mp4",
                    "assets/t2RPFB/alpha.mp4",
                    "assets/t2RPFB/fg.mp4",
                    "assets/t2RPFB/bg.mp4"
                ] 
            },
            { 
                id: 'a2', 
                short: 'R2PFB', 
                cat: 'XToX', 
                desc: 'Video Matting', 
                promptReq: false, 
                input: 'BL', 
                output: 'Alpha+FG+BG',
                videoList: [
                    "assets/R2PFB/bl.mp4",
                    "assets/R2PFB/alpha.mp4",
                    "assets/R2PFB/fg.mp4",
                    "assets/R2PFB/bg.mp4"
                ] 
            },
            { 
                id: 'a3', 
                short: 'P2RFB', 
                cat: 'TextAndXToX', 
                desc: 'Alpha → BL + FG + BG', 
                promptReq: true, 
                input: 'Alpha', 
                output: 'BL+FG+BG',
                prompt: "An open silver laptop displays code, slightly suspended, with a handmade cup of coffee next to it. The background is: at sunset by the seaside, the sky is filled with clouds dyed orange gold by the sunset, the waves gently tap the beach, and the water surface reflects the afterglow of the sunset.",
                videoList: [
                    "assets/P2RFB/bl.mp4",
                    "assets/P2RFB/alpha.mp4",
                    "assets/P2RFB/fg.mp4",
                    "assets/P2RFB/bg.mp4"
                ] 

            },
            { 
                id: 'a4', 
                short: 'F2RPB', 
                cat: 'TextAndXToX', 
                desc: 'FG → BL + Alpha + BG', 
                promptReq: true, 
                input: 'FG', 
                output: 'BL+Alpha+BG',
                prompt: "A young girl wearing a floral summer dress and a straw hat, holding a bouquet of wildflowers in her arms, happily jumping and capturing moments in mid air. The background is the vast and vibrant lavender fields of Provence, extending under the warm sunset sky, with a simple stone farmhouse in the distance.",
                videoList: [
                    "assets/F2RPB/bl.mp4",
                    "assets/F2RPB/alpha.mp4",
                    "assets/F2RPB/fg.mp4",
                    "assets/F2RPB/bg.mp4"
                ] 
            },
            { 
                id: 'a5', 
                short: 'B2RPF', 
                cat: 'TextAndXToX', 
                desc: 'BG → BL + Alpha + FG', 
                promptReq: true, 
                input: 'BG', 
                output: 'BL+Alpha+FG',
                prompt: "An elderly man, wearing a coarse woolen hat, an old jacket, and leaning on a wooden cane, is walking slowly inside the house. The background is a small wooden house, with afternoon sunlight shining through the window on the floor.",
                videoList: [
                    "assets/B2RPF/bl.mp4",
                    "assets/B2RPF/alpha.mp4",
                    "assets/B2RPF/fg.mp4",
                    "assets/B2RPF/bg.mp4"
                ] 
            },
            { 
                id: 'a6', 
                short: 'RP2FB', 
                cat: 'XToX', 
                desc: 'BL + Alpha → FG + BG', 
                promptReq: false, 
                input: 'BL+Alpha', 
                output: 'FG+BG',
                videoList: [
                    "assets/RP2FB/bl.mp4",
                    "assets/RP2FB/alpha.mp4",
                    "assets/RP2FB/fg.mp4",
                    "assets/RP2FB/bg.mp4"
                ] 
            },
            { 
                id: 'a7', 
                short: 'RF2PB', 
                cat: 'XToX', 
                desc: 'BL + FG → Alpha + BG', 
                promptReq: false, 
                input: 'BL+FG', 
                output: 'Alpha+BG',
                videoList: [
                    "assets/RF2PB/bl.mp4",
                    "assets/RF2PB/alpha.mp4",
                    "assets/RF2PB/fg.mp4",
                    "assets/RF2PB/bg.mp4"
                ] 
            },
            { 
                id: 'a8', 
                short: 'RB2PF', 
                cat: 'XToX', 
                desc: 'BL + BG → Alpha + FG', 
                promptReq: false, 
                input: 'BL+BG', 
                output: 'Alpha+FG',
                videoList: [
                    "assets/RB2PF/bl.mp4",
                    "assets/RB2PF/alpha.mp4",
                    "assets/RB2PF/fg.mp4",
                    "assets/RB2PF/bg.mp4"
                ] 
            },
            { 
                id: 'a9', 
                short: 'PF2RB', 
                cat: 'TextAndXToX', 
                desc: 'Alpha + FG → BL + BG', 
                promptReq: true, 
                input: 'Alpha+FG', 
                output: 'BL+BG',
                prompt:"A woman is spinning her body. The background is: on a snowy day, the hillside is covered with thin snow. The background is bare trees. The heavy snow is falling, and the overall atmosphere is cold and peaceful.",
                videoList: [
                    "assets/PF2RB/bl.mp4",
                    "assets/PF2RB/alpha.mp4",
                    "assets/PF2RB/fg.mp4",
                    "assets/PF2RB/bg.mp4"
                ] 
            },
            { 
                id: 'a10', 
                short: 'PB2RF', 
                cat: 'TextAndXToX', 
                desc: 'Alpha + BG → BL + FG', 
                promptReq: true, 
                input: 'Alpha+BG', 
                output: 'BL+FG',
                prompt:"A golden retriever sits patiently with its tongue sticking out, wearing a red headscarf around its neck. The background is a sunny, idyllic suburban park with green lawns, mature oak trees, and families having picnics in the distance.",
                videoList: [
                    "assets/PB2RF/bl.mp4",
                    "assets/PB2RF/alpha.mp4",
                    "assets/PB2RF/fg.mp4",
                    "assets/PB2RF/bg.mp4"
                ] 
            },
            { 
                id: 'a11', 
                short: 'FB2RP', 
                cat: 'XToX', 
                desc: 'FG + BG → BL + Alpha', 
                promptReq: false, 
                input: 'FG+BG', 
                output: 'BL+Alpha',
                videoList: [
                    "assets/FB2RP/bl.mp4",
                    "assets/FB2RP/alpha.mp4",
                    "assets/FB2RP/fg.mp4",
                    "assets/FB2RP/bg.mp4"
                ] 
            },
            { 
                id: 'a12', 
                short: 'PFB2R', 
                cat: 'XToX', 
                desc: 'Alpha + FG + BG → BL', 
                promptReq: false, 
                input: 'Alpha+FG+BG', 
                output: 'BL',
                videoList: [
                    "assets/PFB2R/bl.mp4",
                    "assets/PFB2R/alpha.mp4",
                    "assets/PFB2R/fg.mp4",
                    "assets/PFB2R/bg.mp4"
                ] 
            },
            { 
                id: 'a13', 
                short: 'RFB2P', 
                cat: 'TextAndXToX', 
                desc: 'Bl + FG + BG → Alpha', 
                promptReq: false, 
                input: 'Bl+FG+BG', 
                output: 'Alpha' ,
                videoList: [
                    "assets/RFB2P/bl.mp4",
                    "assets/RFB2P/alpha.mp4",
                    "assets/RFB2P/fg.mp4",
                    "assets/RFB2P/bg.mp4"
                ] 
            },
            { 
                id: 'a14', 
                short: 'RPB2F', 
                cat: 'XToX', 
                desc: 'Bl + Alpha + BG → FG', 
                promptReq: false, 
                input: 'Bl+Alpha+BG', 
                output: 'FG' ,
                videoList: [
                    "assets/RPB2F/bl.mp4",
                    "assets/RPB2F/alpha.mp4",
                    "assets/RPB2F/fg.mp4",
                    "assets/RPB2F/bg.mp4"
                ] 
            },
            { 
                id: 'a15', 
                short: 'RPF2B', 
                cat: 'XToX', 
                desc: 'Bl + Alpha + FG → BG', 
                promptReq: false, 
                input: 'Bl+Alpha+FG', 
                output: 'BG' ,
                videoList: [
                    "assets/RPF2B/bl.mp4",
                    "assets/RPF2B/alpha.mp4",
                    "assets/RPF2B/fg.mp4",
                    "assets/RPF2B/bg.mp4"
                ] 
            },
        ];

        // --- STATE ---
        let currentModel = 'intrinsic'; // 'intrinsic' or 'alpha'
        let currentFilter = 'All';
        let currentSearch = '';

        // --- RENDER LOGIC ---
        function renderGallery() {
            const grid = document.getElementById('galleryGrid');
            grid.innerHTML = ''; // Clear

            const data = currentModel === 'intrinsic' ? INTRINSIC_TASKS : ALPHA_TASKS;

            const filtered = data.filter(task => {
                const matchesCat = currentFilter === 'All' || task.cat === currentFilter;
                const matchesSearch = task.short.toLowerCase().includes(currentSearch.toLowerCase()) || 
                                      task.desc.toLowerCase().includes(currentSearch.toLowerCase());
                return matchesCat && matchesSearch;
            });

            if (filtered.length === 0) {
                grid.innerHTML = '<div style="text-align: center; padding: 40px; color: var(--text-muted);">No tasks found matching criteria.</div>';
                return;
            }

            filtered.forEach(task => {
                // Create outer container (Task Row)
                const row = document.createElement('div');
                row.className = 'task-row';
                
                // 1. 生成 Header
                const badge = task.promptReq ? '† Prompt Rec.' : 'Prompt-free';
                
                // 2. 处理 Prompt 显示逻辑
                const promptHtml = task.prompt 
                    ? `<div style="margin-top:8px; font-family:var(--font-serif); font-style:italic; color:var(--text-main); background:rgba(0,0,0,0.03); padding:6px 12px; border-radius:6px; font-size:0.95rem; line-height:1.4;">
                         <span style="font-style:normal; font-weight:700; font-size:0.75rem; color:var(--accent); text-transform:uppercase; margin-right:6px; letter-spacing:0.5px;">Prompt</span> 
                         “${task.prompt}”
                       </div>` 
                    : '';

                const headerHtml = `
                    <div class="task-row-header">
                        <div class="task-info" style="flex: 1; min-width: 0;"> <div style="display:flex; align-items:center; gap:10px; margin-bottom:4px;">
                                <div class="task-shorthand">${task.short}</div>
                                <div class="task-desc">${task.desc}</div>
                            </div>
                            <div class="task-meta">In: ${task.input} → Out: ${task.output}</div>
                            
                            ${promptHtml}
                        </div>
                        
                        <div style="font-size:0.8rem; color:var(--text-muted); border:1px solid var(--border); padding:2px 8px; border-radius:12px; height: fit-content; margin-left:12px;">
                            ${badge}
                        </div>
                    </div>
                `;

                // 3. Generate 4 Video Slots (Modified logic here)
                let videoStripHtml = '<div class="video-strip">';
                const videos = task.videoList || [];

                for(let i=0; i<4; i++) {
                    let innerContent = '';
                    const videoSrc = videos[i];
                    
                    if (videoSrc) {
                        // KEY CHANGE: Removed autoplay, muted, onmouseover events. Added controls, preload=metadata
                        innerContent = `
                            <video src="${videoSrc}" 
                                   class="task-video" 
                                   controls
                                   playsinline
                                   loop
                                   preload="metadata">
                            </video>`;
                    } else {
                        innerContent = `<div class="video-empty">Result ${i+1}</div>`;
                    }
                    
                    videoStripHtml += `<div class="video-slot">${innerContent}</div>`;
                }
                videoStripHtml += '</div>';

                // Assemble
                row.innerHTML = headerHtml + videoStripHtml;
                grid.appendChild(row);
            });
        }

        // --- INTERACTION FUNCTIONS ---
        function switchModel(model) {
            currentModel = model;
            document.querySelectorAll('.model-tab').forEach(el => el.classList.remove('active'));
            const tabs = document.querySelectorAll('.model-tab');
            if(model === 'intrinsic') tabs[0].classList.add('active');
            else tabs[1].classList.add('active');
            renderGallery();
        }

        function filterGallery(category) {
            currentFilter = category;
            document.querySelectorAll('.filter-pill').forEach(el => {
                if (el.getAttribute('data-category') === category) {
                    el.classList.add('active');
                } else if (category === 'All' && el.getAttribute('data-category') === 'All') {
                    el.classList.add('active');
                } else {
                    el.classList.remove('active');
                }
            });
            renderGallery();
        }

        function searchGallery(val) {
            currentSearch = val;
            renderGallery();
        }

        function copyBibtex() {
            const text = document.getElementById('bibtexText').innerText;
            navigator.clipboard.writeText(text).then(() => {
                const btn = document.querySelector('.copy-btn');
                const orig = btn.innerText;
                btn.innerText = "Copied!";
                setTimeout(() => btn.innerText = orig, 2000);
            });
        }

        // --- INITIALIZATION ---
        const themeBtn = document.getElementById('themeBtn');
        themeBtn.addEventListener('click', () => {
            const body = document.body;
            if (body.getAttribute('data-theme') === 'light') {
                body.setAttribute('data-theme', 'dark');
                themeBtn.innerText = '☀';
            } else {
                body.setAttribute('data-theme', 'light');
                themeBtn.innerText = '☾';
            }
        });

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('is-visible');
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.fade-in-section').forEach(section => observer.observe(section));

        renderGallery();

    </script>
</body>
</html>